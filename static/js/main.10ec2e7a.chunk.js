(this.webpackJsonpforiio=this.webpackJsonpforiio||[]).push([[0],{16:function(e,t,n){e.exports=n(28)},21:function(e,t,n){},22:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),i=n.n(c),o=(n(21),n(4)),s=n(8),l=n(11),u=n(12),m=n(14),_=n(13),f=n(15),d=(n(22),function(e){var t=e.className,n=e.user,a=e.changePage,c=e.noAvatar,i=n.works.slice(0,4);return r.a.createElement("div",{className:t,key:n.id},r.a.createElement("div",{className:"card__infobox"},r.a.createElement("div",{className:"card__infobox__imgContainer"},r.a.createElement("img",{onClick:function(){return a("Profile",n.screen_name)},className:"card__infobox__image",src:""===n.avatar?c:n.avatar,alt:"avatar"})),r.a.createElement("div",{className:"card__infobox__username"},n.name),r.a.createElement("div",{className:"card__infobox__usertitle"},n.profession)),r.a.createElement("div",{className:"card__works"},i.map((function(e){return r.a.createElement("img",{key:e.id,onClick:function(){return a("Project",e.id)},className:"card__works__individual",src:e.thumbnail,alt:"{work.title}"})}))))}),v=function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"loading__title"},"Loading"),r.a.createElement("div",{className:"loading__one"},"."),r.a.createElement("div",{className:"loading__two"},"."),r.a.createElement("div",{className:"loading__three"},"."))},h=function(e){var t=function(){window.innerHeight+window.pageYOffset>=document.body.scrollHeight&&_()},n=e.users,c=e.noAvatar,i=e.changePage,s=Object(a.useRef)(!1),l=Object(a.useRef)(4),u=Object(a.useRef)(t),m=Object(a.useRef)(t),_=function(){s.current||(s.current=!0,g((function(e){return Math.min(n.length,e+l.current)})))},f=Object(a.useState)(l.current),h=Object(o.a)(f,2),E=h[0],g=h[1];return Object(a.useEffect)((function(){return window.addEventListener("wheel",u.current)}),[]),Object(a.useEffect)((function(){return window.addEventListener("touchmove",m.current)}),[]),Object(a.useEffect)((function(){return function(){return window.removeEventListener("wheel",u.current)}}),[]),Object(a.useEffect)((function(){return function(){return window.removeEventListener("touchmove",m.current)}}),[]),Object(a.useEffect)((function(){s.current=!1})),n.length>0?r.a.createElement("div",{className:"pickedCreators"},r.a.createElement("h1",{className:"pickedCreators__title"},"Picked up creators"),r.a.createElement("div",{className:"pickedCreators__cardContainer"},n.slice(0,E).map((function(e,t){return r.a.createElement(d,{key:t,className:"card",user:e,changePage:i,noAvatar:c})})))):r.a.createElement(v,null)},E=n(3),g=n(2),p=function(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(a.useRef)(!0);return Object(a.useEffect)((function(){return window.addEventListener("click",s.current=function(){return i(!0)})}),[]),Object(a.useEffect)((function(){return function(){return window.removeEventListener("click",s.current)}}),[]),r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"header__title"},"foriio"),r.a.createElement("nav",{className:"header__navbar"},r.a.createElement("div",{className:"header__navbar__item",onClick:function(){return e.changePage("UserList")}},r.a.createElement(E.a,{icon:g.h}),r.a.createElement("span",{className:"header__navbar__item__text"},"Picked up creators")),r.a.createElement("div",{className:"header__navbar__item",onClick:function(e){e.stopPropagation(),i(!c)}},r.a.createElement(E.a,{icon:g.f}),r.a.createElement("span",{className:"header__navbar__item__text"},c?"Open":"Close"," history"))),r.a.createElement("div",{className:"history"+(c?" history__hide":"")},e.history.length>0?e.history.sort((function(e,t){return e.time<t.time?1:-1})).map((function(t,n){return r.a.createElement("div",{className:"history__user",key:n},r.a.createElement("div",{className:"history__user__container",onClick:function(){return e.changePage("Profile",t.username)}},r.a.createElement("img",{className:"history__user__avatar",src:t.avatar,alt:"user avatar"}),r.a.createElement("div",{className:"history__user__about"},r.a.createElement("div",{className:"history__user__about__name"},t.name),r.a.createElement("div",{className:"history__user__about__profession"},t.profession))),r.a.createElement("div",{className:"history__projects"},t.visited.map((function(t,n){return r.a.createElement("div",{key:n,onClick:function(){return e.changePage("Project",t.id)},className:"history__projects__image"},r.a.createElement("img",{src:t.thumbnail,alt:"project"}),r.a.createElement("div",{className:"history__projects__title"},t.title))}))))})):r.a.createElement("div",{className:"history__user history__empty"},"You haven't visited any pages yet...")))},b=n(7),w=function(e){var t=e.arr,n=e.profile,a=e.className;return r.a.createElement("div",{className:a},t.map((function(e,t){if(""===n[e])return"";var a;switch(e){case"twitter_url":a=b.b;break;case"instagram_url":a=b.a;break;case"website":default:a=g.e}return r.a.createElement("div",{key:t,onClick:function(){return window.open(n[e])},className:"profile__userdata__snsIcon"},r.a.createElement(E.a,{icon:a}))})))},j=function(e){var t=function(){window.innerHeight+window.pageYOffset>=document.body.scrollHeight&&u()},n=Object(a.useRef)(!1),c=Object(a.useRef)(6),i=Object(a.useRef)(t),s=Object(a.useRef)(t),l=Object(a.useRef)(6),u=function(){n.current||(n.current=!0,y((function(e){return Math.min(f.tags[p].length,e+c.current)})),l.current=l.current+6>f.tags[p].length?f.tags[p].length:l.current+6)},m=Object(a.useState)(e),_=Object(o.a)(m,2),f=_[0],d=_[1],v=Object(a.useState)("All"),h=Object(o.a)(v,2),p=h[0],b=h[1],j=Object(a.useState)(c.current),N=Object(o.a)(j,2),y=(N[0],N[1]);return Object(a.useEffect)((function(){return window.addEventListener("wheel",i.current)}),[]),Object(a.useEffect)((function(){return window.addEventListener("touchmove",s.current)}),[]),Object(a.useEffect)((function(){return function(){return window.removeEventListener("wheel",i.current)}}),[]),Object(a.useEffect)((function(){return function(){return window.removeEventListener("touchmove",s.current)}}),[]),Object(a.useEffect)((function(){n.current=!1})),Object(a.useEffect)((function(){b("All"),y(c.current),l.current+=6,d(e)}),[e]),r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile__userdata"},r.a.createElement("div",{className:"profile__userdata__avatar"},r.a.createElement("img",{src:f.profile.avatar.thumb2x?f.profile.avatar.thumb2x:f.noAvatar,alt:"user avatar",width:"60px"})),r.a.createElement("div",{className:"profile__userdata__container"},r.a.createElement("div",{className:"profile__userdata__name"},f.profile.name),r.a.createElement("div",{className:"profile__userdata__profession"},f.profile.profession," ",f.profile.location&&"@\xa0"+f.profile.location),r.a.createElement("div",{className:"profile__userdata__bio"},r.a.createElement("br",null),f.profile.bio),r.a.createElement("div",{className:"profile__userdata__location"}),r.a.createElement("div",{className:"profile__userdata__lookingFor"},r.a.createElement("br",null),f.profile.i_want_to_work_with),r.a.createElement(w,{className:"profile__userdata__sns",arr:["twitter_url","instagram_url","website"],profile:f.profile}))),r.a.createElement("div",{className:"portfolio"},r.a.createElement("div",{className:"portfolio__taglist"},Object.keys(f.tags).map((function(e,t){return p===e?r.a.createElement("div",{className:"portfolio__taglist__tag portfolio__taglist__selected",key:t},e):r.a.createElement("div",{className:"portfolio__taglist__tag ",onClick:function(){return function(e){b(e),y(c.current)}(e)},key:t},e)}))),r.a.createElement("div",{className:"portfolio__listing"},f.tags[p].slice(0,l.current).map((function(e,t){var n=f.works[e];return r.a.createElement("div",{key:t,className:"portfolio__listing__wrapper",onClick:function(){return f.changePage("Project",n.id)}},r.a.createElement("div",{className:"portfolio__listing__container"},r.a.createElement("img",{className:"portfolio__listing__container__thumbnail polaroid",src:n.thumbnail,alt:"thumbnail"}),r.a.createElement("div",{className:"portfolio__listing__container__overlay"},r.a.createElement("div",{className:"portfolio__listing__container__overlay__title"},n.title),r.a.createElement("div",{className:"portfolio__listing__container__overlay__roles"},n.user_roles.map((function(e,t,n){return r.a.createElement("div",{key:t},e," ",t<n.length-1?"and\xa0 ":"")}))),r.a.createElement("div",{className:"portfolio__listing__container__overlay__icon"},"image"===n.type?r.a.createElement(E.a,{icon:g.g}):r.a.createElement(E.a,{icon:g.j}))),r.a.createElement("div",{className:"portfolio__listing__wrapper__info"},r.a.createElement("div",{className:"portfolio__listing__wrapper__info__title"},"image"===n.type?r.a.createElement(E.a,{icon:g.g}):r.a.createElement(E.a,{icon:g.j}),"\xa0",n.title),r.a.createElement("div",{className:"portfolio__listing__wrapper__info__roles"},n.user_roles.map((function(e,t,n){return r.a.createElement("div",{key:t},e," ",t<n.length-1?"and\xa0":"")}))))))})))))},N=function(e){var t=function(){window.innerHeight+window.pageYOffset>=document.body.scrollHeight&&O()},n=e.noOfMedia,c=e.videos,i=e.images,s=e.thumbnail,l=e.mediatype,u=e.title,m=e.description,_=e.changePage,f=e.credits,d=e.noAvatar,h=Object(a.useRef)(!1),p=Object(a.useRef)(i||(c||[[s]])),b=Object(a.useRef)(i?"srcset":c?"picture_url":0),w=Object(a.useRef)(6),j=Object(a.useRef)(t),N=Object(a.useRef)(t),y=Object(a.useRef)(!1),k=Object(a.useRef)(!!document.fullscreenElement),O=function(){h.current||(h.current=!0,U((function(e){return Math.min(n.length,e+w.current)})))},P=Object(a.useState)(!1),C=Object(o.a)(P,2),x=C[0],A=C[1],L=Object(a.useState)(""),R=Object(o.a)(L,2),I=R[0],H=R[1],S=Object(a.useState)(w.current),F=Object(o.a)(S,2),U=(F[0],F[1]);Object(a.useEffect)((function(){return window.addEventListener("wheel",j.current)}),[]),Object(a.useEffect)((function(){return window.addEventListener("touchmove",N.current)}),[]),Object(a.useEffect)((function(){return function(){return window.removeEventListener("wheel",j.current)}}),[]),Object(a.useEffect)((function(){return function(){return window.removeEventListener("touchmove",N.current)}}),[]),Object(a.useEffect)((function(){h.current=!1}));var M=function(){document.documentElement.requestFullscreen(),A(!0)},T=function(){document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),A(!1))},D=function(){y.current=!1,k.current?M():T(),H(-1)},Y=function(e){var t=I+e;t<0?t+=i.length:t>=i.length&&(t-=i.length),H(t)};return l||s?r.a.createElement("div",{className:"project"},r.a.createElement("div",{className:"project__info"},r.a.createElement("div",{className:"project__info__container"},r.a.createElement("h1",{className:"project__info__title"},u),r.a.createElement("div",{className:"project__info__description"},m)),r.a.createElement("div",{className:"project__info__credits"},f.map((function(e,t){return r.a.createElement("div",{key:t,className:"project__info__credits__container"},r.a.createElement("div",{className:"project__info__credits__role"},e.name),r.a.createElement("div",{className:"project__info__credits__name",onClick:function(){return _("Profile",e.user.screen_name)}},r.a.createElement("img",{src:null===e.user.profile.avatar.thumb2x?d:e.user.profile.avatar.thumb2x,alt:"user avatar"}),e.user.profile.name))})))),r.a.createElement("div",{style:{margin:"1rem"}}),r.a.createElement("div",{className:"portfolio"},r.a.createElement("div",{className:"portfolio__listing"},p.current.map((function(e,t){return r.a.createElement("div",{key:t,className:"portfolio__listing__wrapper"},r.a.createElement("div",{className:"project__view"},r.a.createElement("img",{className:"portfolio__listing__container__thumbnail zoominCursor",src:e[b.current],alt:"portfolio item",onClick:function(){return function(e){1===l?window.open(c[e].url):(k.current=!!document.fullscreenElement,y.current=!0,A(k.current),H(e))}(t)}})))})))),y.current?r.a.createElement("div",{className:"fullscreenImage"},r.a.createElement("div",{onClick:function(){return D()},className:"fullscreenImage__overlay"}),r.a.createElement("img",{src:p.current[I].srcset,alt:"viewing fullscreen"}),r.a.createElement("div",{onClick:function(){return Y(-1)},className:"fullscreenImage__button fullscreenImage__button-left"},r.a.createElement(E.a,{icon:g.a})),r.a.createElement("div",{onClick:function(){return Y(1)},className:"fullscreenImage__button fullscreenImage__button-right"},r.a.createElement(E.a,{icon:g.b})),r.a.createElement("div",{onClick:function(){return D()},className:"fullscreenImage__button fullscreenImage__button-close"},r.a.createElement(E.a,{icon:g.i})),x?r.a.createElement("div",{onClick:function(){return T()},className:"fullscreenImage__button fullscreenImage__button-fullscreen"},r.a.createElement(E.a,{icon:g.c})):r.a.createElement("div",{onClick:function(){return M()},className:"fullscreenImage__button fullscreenImage__button-fullscreen"},r.a.createElement(E.a,{icon:g.d}))):""):r.a.createElement(v,null)},y="https://api.foriio.com/api/v1",k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(_.a)(t).call(this,e))).noAvatar="https://dyci7co52mbcc.cloudfront.net/static/images/default_avatar_v2.png",n.state={header:r.a.createElement("div",null),page:r.a.createElement(v,null),data:"",history:[],props:{},users:[],currentUser:!1},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getPersonFromHistory",value:function(e){return this.state.history.findIndex((function(t){return t.username===e}))}},{key:"addPersonToHistory",value:function(e,t){var n=Object(s.a)(this.state.history),a=n.findIndex((function(n){return n.username===(t||e.user.screen_name)}));if(a<0){if(n.length>=5){for(var r=0,c=1;c<n.length;c++)n[c].time<n[r].time&&(r=c);n.splice(r,1)}n.push({username:t||e.user.screen_name,name:e.name,profession:e.profession,avatar:e.avatar.thumb2x?e.avatar.thumb2x:this.noAvatar,visited:[],time:Date.now()}),a=n.length-1}else n[a].time=Date.now();return[n,a]}},{key:"addProjectToHistory",value:function(e){var t,n=this.state.currentUser?this.getPersonFromHistory():-1;if(n<0){var a=this.addPersonToHistory(e.author.profile,e.author.screen_name),r=Object(o.a)(a,2);t=r[0],n=r[1]}else t=Object(s.a)(this.state.history);var c={title:e.title,thumbnail:e.thumbnail,id:e.id},i=t[n].visited.findIndex((function(e){return e.id===c.id}));return i>=0&&t[n].visited.splice(i,1),t[n].visited.length>=6&&t[n].visited.pop(),t[n].visited.unshift(c),t}},{key:"changePage",value:function(e,t){var n,a=this;switch(e){case"UserList":fetch("".concat(y,"/promoted/users")).then((function(e){if(200===e.status)return e.json();throw e.status})).catch((function(e){console.log("Error:",e)})).then((function(e){a.setState({page:r.a.createElement(h,{users:e.users,noAvatar:a.noAvatar,changePage:a.changePage.bind(a)}),currentUser:!1})}));break;case"Profile":(function(e){var t=fetch("".concat(y,"/users/").concat(e,"/profile")).then((function(e){if(200===e.status)return e.json();throw e.status})).then((function(e){return e.profile})).catch((function(e){console.log("Error:",e)})),n=fetch("".concat(y,"/users/").concat(e,"/works")).then((function(e){if(200===e.status)return e.json();throw e.status})).then((function(e){var t={All:[]};return e.works.forEach((function(e,n){e.category_list.forEach((function(e){t[e]||(t[e]=[]),t[e].push(n)})),t.All.push(n)})),[e.works,t]})).catch((function(e){console.log("Error:",e)}));return Promise.all([t,n])})(t).then((function(e){a.setState({page:r.a.createElement(j,{profile:e[0],time:Date.now(),works:e[1][0],tags:e[1][1],noAvatar:a.noAvatar,changePage:a.changePage.bind(a)}),history:a.addPersonToHistory(e[0])[0],currentUser:e[0].user.screen_name})}));break;case"Project":(n=t,fetch("".concat(y,"/works/").concat(n)).then((function(e){if(200===e.status)return e.json();throw e.status})).then((function(e){var t=e.work,n=t.creative_roles,a=t.description,r=t.title,c=t.images,i=t.videos,o=t.thumbnail,s=t.id,l=t.author;return{credits:n,description:a,title:r,images:c,videos:i,id:s,mediatype:c?2:i?1:void 0,noOfMedia:c?c.length:i?i.length:0,thumbnail:o,author:l}})).catch((function(e){console.log("Error:",e)}))).then((function(e){a.setState({page:r.a.createElement(N,Object.assign({noAvatar:a.noAvatar},e,{changePage:a.changePage.bind(a)})),history:a.addProjectToHistory(e)})}));break;default:e=r.a.createElement(v,null)}window.scrollTo(0,0)}},{key:"componentDidMount",value:function(){this.changePage("UserList")}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,{history:this.state.history,changePage:this.changePage.bind(this)}),r.a.createElement("div",{className:"main"},this.state.page))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.10ec2e7a.chunk.js.map